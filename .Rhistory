a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
postm0 <- extract.samples(m0)
postm0$difference <- postm0$a[,1] - postm0$a[,2]
postm1 <- extract.samples(m1)
postm1$difference <- postm1$a[,1] - postm1$a[,2]
precis_plot(precis(postm0), pars = c("difference"))
compare(m0,m1, func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m.null <- ulam(
alist(
tp ~ dgampois(lambda, phi),
log(lambda) <- a[category],
a[category] ~ dnorm(0,10),
phi ~dexp(1)
), data=d, cores=4, chains = 4, cmdstan = TRUE,
iter=5e3, log_lik=TRUE
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,10),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
postm0 <- extract.samples(m0)
postm0$difference <- postm0$a[,1] - postm0$a[,2]
postm1 <- extract.samples(m1)
postm1$difference <- postm1$a[,1] - postm1$a[,2]
precis_plot(precis(postm0), pars = c("difference"))
post0 <- extract.samples(m0)
post0$diff12 <- post0$a_l[,1] - post0$a_l[,2]
post0$diff13 <- post0$a_l[,1] - post0$a_l[,3]
post0$diff23 <- post0$a_l[,2] - post0$a_l[,3]
precis_plot(precis(post0),pars = c("diff12","diff13","diff23"))
compare(m0,m1, func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m.null <- ulam(
alist(
tp ~ dgampois(lambda, phi),
log(lambda) <- a[category],
a[category] ~ dnorm(0,10),
phi ~dexp(1)
), data=d, cores=4, chains = 4, cmdstan = TRUE,
iter=5e3, log_lik=TRUE
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
precis(m0, depth=2)
precis_plot(precis(m0))
postm0 <- extract.samples(m0)
postm0$difference <- postm0$a[,1] - postm0$a[,2]
postm1 <- extract.samples(m1)
postm1$difference <- postm1$a[,1] - postm1$a[,2]
precis(postm0)
precis(postm1)
compare(m0,m1 ,func=LOO)
postm0$a
precis_plot(precis(postm0), pars = c("difference"))
post0 <- extract.samples(m0)
post0$diff12 <- post0$a_l[,1] - post0$a_l[,2]
post0$diff13 <- post0$a_l[,1] - post0$a_l[,3]
post0$diff23 <- post0$a_l[,2] - post0$a_l[,3]
precis_plot(precis(post0),pars = c("diff12","diff13","diff23"))
postm0 <- extract.samples(m0)
postm0$difference <- postm0$a[,1] - postm0$a[,2]
postm0 <- extract.samples(m0)
postm0$difference <- postm0$a[,1] - postm0$a[,2]
compare(m0,m1 ,func=LOO)
post0 <- extract.samples(m0)
post0$a
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m.null <- ulam(
alist(
tp ~ dgampois(lambda, phi),
log(lambda) <- a[category],
a[category] ~ dnorm(0,10),
phi ~dexp(1)
), data=d, cores=4, chains = 4, cmdstan = TRUE,
iter=5e3, log_lik=TRUE
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
post0$a
post0$a
post0$a[,1]
library(rethinking)
# where is the file?
url <- "https://torkar.github.io/desharnais.csv"
# where should we place the file?
destFile <- "~/Downloads/desharnais.csv"
# d/l file
download.file(url, destFile)
# read the file into d
d <- read.csv("~/Downloads/desharnais.csv")
# remove columns we donâ€™t need
d <- d[-c(1)]
str(d)
# check format
m0 <- ulam(
alist(
Effort ~ dgampois(lambda, phi),
log(lambda) <- a[Language],
a[Language] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
Effort ~ dgampois(lambda,phi),
log(lambda) <- a_l[Language] + a_t[TeamExp],
a_l[Language] ~ dnorm(0,0.5),
a_t[TeamExp] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$diff12 <- post0$a[,1] - post0$a[,2]
post0$diff13 <- post0$a[,1] - post0$a[,3]
post0$diff23 <- post0$a[,2] - post0$a[,3]
post1 <- extract.samples(m1)
post1$diff12 <- post1$a_l[,1] - post1$a_l[,2]
post1$diff13 <- post1$a_l[,1] - post1$a_l[,3]
post1$diff23 <- post1$a_l[,2] - post1$a_l[,3]
precis_plot(precis(post0),pars = c("diff12","diff13","diff23"))
precis_plot(precis(post1),pars = c("diff12","diff13","diff23"))
compare(m0,m1, func=LOO)
post0
post0$a
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
post0$a
compare(m0,m1 ,func=LOO)
post0$a
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0), pars = c("lal", "hey"))
precis_plot(precis(post0), pars = c("lal"))
precis_plot(precis(post0), pars = c("dff"))
precis_plot(precis(post0), pars = c("dff"), depth=2)
precis_plot(precis(post0), pars = c("dff"), 2)
precis_plot(precis(post0, 2), pars = c("dff"))
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=LOO)
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,10),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
source("~/R/Exercises/assignment_v_1.R")
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
data_list <- list(
tp = d$tp,
d$technique <- ifelse( d$technique=="OT" , 2 , 1 ),
d$category <- ifelse( d$category=="ME" , 2 , 1 )
)
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = data_list, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0,0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0, 10),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + a[category],
a[technique] ~ dnorm(0,0.5),
a[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m0)
post0$dff <- post0$a[,1] - post0$a[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
post0 <- extract.samples(m1)
post0
post0$a
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + b[category],
a[technique] ~ dnorm(0,0.5),
b[category] ~ dnorm(0, 0.5),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m1)
post0$b
post0 <- extract.samples(m1)
post0$b
post0$b
#here we want to show the NTME, NTLE, OTME and OTLE
post0$dff <- post0$b[,1] - post0$b[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
library(rethinking)
setwd("~/R/Exercises")
d <- read.csv(file="data_autumn2020.csv", sep=";")
d[72,3] <- "OT"
d$technique <- ifelse( d$technique=="OT" , 2 , 1 )
d$category <- ifelse( d$category=="ME" , 2 , 1 )
m0 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique],
a[technique] ~ dnorm(0, 10),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
m1 <- ulam(
alist(
tp ~ dgampois(lambda,phi),
log(lambda) <- a[technique] + b[category],
a[technique] ~ dnorm(0,0.2),
b[category] ~ dnorm(0, 0.2),
phi ~ dexp(1)
), data = d, cores = 4, chains = 4, cmdstan = TRUE,
iter = 5e3, log_lik = TRUE)
post0 <- extract.samples(m1)
post0$b
#here we want to show the NTME, NTLE, OTME and OTLE
post0$dff <- post0$b[,1] - post0$b[,2]
precis_plot(precis(post0, 2), pars = c("dff"))
compare(m0,m1 ,func=WAIC)
source("~/R/Exercises/week_6_exercises.R")
